<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="NdcLogo4848.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Vial 网站</title>
    <link rel="stylesheet" type="text/css" href="../StyleFiles/homepage.css">
    <script type="text/javascript" src="./UpdateGp/UpdateGp2.js"></script>
    <script type="text/javascript" src="../MainScripts/InitGpWn.js"></script>
    <script type="text/javascript" src="./UpdateGp/echarts.js"></script>
    <style>
        #echarts{
            display: flex;
            flex-wrap:wrap;
            width: 100%;
            justify-content:space-around;
        }
        #first{
            width: 48%;
            height: 600px;
            display: inline-block; 
            box-shadow: 1px 1px 10px #888888;
            border-radius: 30px;   
            margin-top: 20px;
        }
        #second{
            width: 48%;
            height: 600px;
            display: inline-block;  
            border-radius: 30px;   
            box-shadow: 1px 1px 10px #888888;  
            margin-top: 20px;
        }
        #first1{
            width: 100%;
            height: 600px;
            display: inline-block; 
            box-shadow: 1px 1px 10px #888888;
            border-radius: 30px;   
            margin-top: 20px;
        }
        @media screen and (max-width:957px){
            #first{
                width: 957px;
            }
            #second{
                width: 957px;
            }
        }
    </style>
    <nav>
        <div class="nav-container">
            <a href="#" class="logo">Vial 网站 - 虚拟股票</a>
            <ul class="nav-links">
                <li><a href="../index.html">首页</a></li>
                <li><a href="index.html">购买</a></li>
                <li><a href="GpMg.html">我的股票</a></li>
                <li><a href="..//HomeWp/Vialac.html">我的 Vial ID</a></li>
            </ul>
        </div>
    </nav>
</head>
<body>
        <h2 id="cnt1"></h2>
        <div id="echarts">
        <div id="first"></div>
        <div id="second"></div>
    <script>
        window.onresize = function() {
            myChart1.resize();
            myChart.resize();
        };
        var chartDom = document.getElementById('first');
        var myChart = echarts.init(chartDom);
        load_data();
        myChart.setOption(btsheet());
        var chartDom = document.getElementById('second');
        var myChart1 = echarts.init(chartDom);
        var option = makeop();
        option && myChart1.setOption(option);
        function updateChart() {
            if (myChart1) {
                const option = makeop();
                myChart1.setOption(option);
            }
            if(myChart){
                myChart.setOption(btsheet());
            }
        }
        startRealTimeUpdate();
    </script>
</div>
<p>&nbsp;</p>
<section class="hero">
         <h2>购买虚拟股票</h2> 
    <p>&nbsp;</p>
<p>编号：1.AWM &nbsp; 2.Utw &nbsp; 3.Vial &nbsp; 4.CWMM &nbsp; 5.UVS &nbsp; 6.HSF &nbsp; 7.PTC &nbsp; 8.5U &nbsp; 9.Lemon &nbsp; 10.ECC &nbsp; 11.Ubn &nbsp; 12.FOREST &nbsp; 13.CuO &nbsp; 14.Ognesson 15.GC3 16.UwLS</p>
    <center><div class="form-control">
            <input type="value" required="" id="code1">
            <label>
                <span style="transition-delay:0ms">哪</span><span style="transition-delay:50ms">个</span><span style="transition-delay:100ms">虚</span><span style="transition-delay:150ms">拟</span><span style="transition-delay:200ms">公</span><span style="transition-delay:250ms">司</span><span style="transition-delay:300ms">？</span>
            </label>
        </div>
        <div class="form-control">
            <input type="value" required="" id="money1">
            <label>
                <span style="transition-delay:0ms">买</span><span style="transition-delay:50ms">入</span><span style="transition-delay:100ms">金</span><span style="transition-delay:150ms">额</span>
            </label>
        </div>
        <script>
            function Check()
            {
                var iid=document.getElementById("code1").value;
                var mmy=document.getElementById("money1").value;
                if(iid<=0||iid>16)
                {
                    alert("编号无效。");
                }
                else if(mmy<=0)
                {
                    alert("无法购买。");
                }
                else if(mmy>Number(localStorage.money))
                {
                    alert("Vial币不够啦。");
                }
                else
                {
                    if(!confirm("确定要购买股票 " + buycheckname(iid) + " 共 " + mmy + " Vial币吗？")) return;
                    if(Number(iid)==Number(localStorage.nq))
                    {
                        alert("不能连续购买同一股票。");
                    }
                    else if(Number(localStorage.sel4)==0)
                    {
                        localStorage.sel4=Number(iid);
                        localStorage.buy4=Number(mmy);
                        localStorage.p4=Number(buychecknowprice(iid));
                        localStorage.d4=Number(Date.now());
                        localStorage.money=Number(localStorage.money)-Number(mmy);
                        localStorage.nq=Number(iid);
                        alert("操作成功完成。");
                        window.location.href="GpMg.html";
                    }
                    else if(Number(localStorage.sel2)==0)
                    {
                        localStorage.sel2=Number(iid);
                        localStorage.buy2=Number(mmy);
                        localStorage.p2=Number(buychecknowprice(iid));
                        localStorage.d2=Number(Date.now());
                        localStorage.money=Number(localStorage.money)-Number(mmy);
                        localStorage.nq=Number(iid);
                        alert("操作成功完成。");
                        window.location.href="GpMg.html";
                    }
                    else if(Number(localStorage.sel3)==0)
                    {
                        localStorage.sel3=Number(iid);
                        localStorage.buy3=Number(mmy);
                        localStorage.d3=Number(Date.now());
                        localStorage.p3=Number(buychecknowprice(iid));
                        localStorage.money=Number(localStorage.money)-Number(mmy);
                        localStorage.nq=Number(iid);
                        alert("操作成功完成。");
                        window.location.href="GpMg.html";
                    }
                    else
                    {
                        alert("股票过多。你只能购买三个股票。");
                    }
                }
            }
        </script>
        <button class="btn" onclick="javascript:Check()">购买</button></center>
    </section>
</body>

</html>

